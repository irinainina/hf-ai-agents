# Урок 19. Введение в LlamaHub

## Основные понятия

LlamaHub - это централизованный каталог готовых компонентов для работы с LlamaIndex, включающий:

- Интеграции с моделями и сервисами
- Готовые инструменты и агенты
- Загрузчики данных и эмбеддинг-модели

## Установка компонентов

### Стандартный формат команды установки:

```bash
pip install llama-index-{тип_компонента}-{название_интеграции}
```

### Пример установки компонентов Hugging Face:

```bash
pip install llama-index-llms-huggingface-api llama-index-embeddings-huggingface
```

## Использование компонентов

### Базовый пример работы с LLM:

```python
from llama_index.llms.huggingface_api import HuggingFaceInferenceAPI
import os
from dotenv import load_dotenv

# Загрузка переменных окружения
load_dotenv()

# Инициализация модели
llm = HuggingFaceInferenceAPI(
    model_name="Qwen/Qwen2.5-Coder-32B-Instruct",
    temperature=0.7,  # Уровень креативности (0-1)
    max_tokens=100,   # Максимальная длина ответа
    token=os.getenv("HF_TOKEN"),  # API-ключ
    provider="auto"   # Автовыбор провайдера
)

# Выполнение запроса
response = llm.complete("Расскажи о возможностях LlamaHub")
print(response)
```

### Пример работы с эмбеддингами:

```python
from llama_index.embeddings.huggingface import HuggingFaceEmbedding

embed_model = HuggingFaceEmbedding(
    model_name="BAAI/bge-small-en-v1.5"
)

# Генерация эмбеддинга для текста
embedding = embed_model.get_text_embedding("LlamaHub предоставляет полезные компоненты")
print(f"Размерность вектора: {len(embedding)}")
```

## Ключевые особенности

1. **Структура импортов**:

   - Путь импорта повторяет структуру установки
   - `llama_index.{тип_компонента}.{интеграция}`

2. **Рекомендации по использованию**:

   - Всегда используйте .env для хранения ключей
   - Начинайте с минимальных параметров (max_tokens)
   - Тестируйте разные значения temperature

3. **Оптимизация работы**:
   - Устанавливайте только необходимые компоненты
   - Регулярно обновляйте пакеты
   - Проверяйте LlamaHub на наличие новых интеграций

## Типовые сценарии использования

1. **Загрузка данных**:

   - PDF, базы данных, веб-страницы
   - Специализированные форматы файлов

2. **Обработка текста**:

   - Векторизация контента
   - Семантический поиск
   - Кластеризация документов

3. **Построение агентов**:
   - Готовые шаблоны агентов
   - Интеграция с внешними API
   - Специализированные инструменты

**Важно**: LlamaHub постоянно пополняется новыми компонентами - рекомендуется регулярно проверять обновления!
