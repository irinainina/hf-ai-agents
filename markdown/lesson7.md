# Урок 7. Действия агента

## Основные понятия
**Действия** - конкретные шаги агента для взаимодействия с окружением. Примеры:
- Поиск информации в интернете
- Управление устройствами
- Работа с клиентской поддержкой

## Типы агентов
| Тип агента | Описание |
|------------|----------|
| JSON Агент | Действия описываются в формате JSON |
| Агент кода | Генерирует исполняемый блок кода (обычно Python) |
| Function-calling Agent | Подвид JSON агента, генерирует сообщения для каждого действия |

## Типы действий
| Тип действия | Описание |
|--------------|----------|
| Сбор информации | Поиск в интернете, запросы к БД |
| Использование инструментов | Вызовы API, вычисления |
| Взаимодействие с окружением | Управление устройствами, интерфейсами |
| Общение | Чат с пользователями, коллаборация с другими агентами |

## Подход "Остановись и разберись"
Ключевые этапы:
1. Генерация структурированного вывода (JSON/код)
2. Прекращение генерации после завершения действия
3. Парсинг вывода внешней системой

Пример JSON агента:
```json
{
  "action": "get_weather",
  "action_input": {"location": "New York"}
}
```

## Агенты кода
Преимущества:
- Более выразительный синтаксис
- Поддержка сложной логики (циклы, условия)
- Лучшая отлаживаемость
- Прямая интеграция с библиотеками

Пример Python агента:
```python
def get_weather(city):
    import requests
    api_url = f"https://api.weather.com/v1/location/{city}?apiKey=YOUR_API_KEY"
    response = requests.get(api_url)
    if response.status_code == 200:
        return response.json().get("weather", "No data")
    return "Error fetching weather"

result = get_weather("New York")
print(f"The current weather in New York is: {result}")
```

## Ключевые принципы
1. Действия должны быть четкими и структурированными
2. Обязательно прекращение генерации после выполнения действия
3. Формат вывода должен быть машиночитаемым
4. Подход одинаково работает для JSON, кода и вызова функций